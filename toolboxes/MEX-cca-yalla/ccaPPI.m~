clear all
close all

load yaleInteraction

A = interactMat; 
% undirected graph loaded as upper triangular matrix
A = A + A';

% call to connected components on a sparse array
[lbl z] = cca(A,0.1,1);

tt = find(D>6);
[ii,ij] = sort(D(tt));
figure; spy(A(tt(ij),tt(ij)))
B = A(tt(ij),tt(ij));
Kb = diag(sum(B,2)) - B;
[Uc,Sc] = eigs(sparse(Kb),50,'SA');